{% extends 'layout.html' %}

{% block head %}
{{ super() }}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>

{% endblock %}

{% block nav_menu %}
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
  <ul class="nav navbar-nav">
    <li {% block nav_login %}class="active"{% endblock %}><a href="{{ url_for('login') }}">Sign in</a></li>
    <li {% block nav_join %}{% endblock %}><a href="{{ url_for('join') }}">Sign up</a></li>

</ul>
{% endblock %}

{% block body %}

<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <form role="form" method="post" action="{% block form_action %}{{ url_for('login_submit') }}{% endblock %}">
                {{ form.hidden_tag() }}

                {% if form.errors %}
                  <div class="alert alert-danger fade in">
                    <a class="close" data-dismiss="alert" href="#">&times;</a>
                    {% for field, errors in form.errors.items() %}
                      <ul>
                        {% for error in errors %}
                          {{ error }}
                        {% endfor %}
                      </ul>
                    {% endfor %}
                  </div>
                {% endif %}
                {% if login_error %}
                <div class="alert alert-danger fade in">
                    <a class="close" data-dismiss="alert" href="#">&times;</a>
                    {{ login_error }}
                </div>
                {% endif %}

                {% from "_form_field.html" import render_field %}
                {% for field in form if field.widget.input_type != "hidden" %}
                  {{ render_field(field, class="form-control") }}
                {% endfor %}

                <button type="submit" class="btn btn-primary btn-block">Submit</button>

            </form>
        </div>
    </div>
</div>

{% endblock %}

{% block footer %}
<script src="{{ url_for('static', filename='js/login.js') }}"></script>
{% endblock %}